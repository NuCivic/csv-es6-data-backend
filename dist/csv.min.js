!function(root,factory){if("object"==typeof exports&&"object"==typeof module)module.exports=factory();else if("function"==typeof define&&define.amd)define([],factory);else{var a=factory();for(var i in a)("object"==typeof exports?exports:root)[i]=a[i]}}(this,function(){return function(modules){function hotDownloadUpdateChunk(chunkId){var head=document.getElementsByTagName("head")[0],script=document.createElement("script");script.type="text/javascript",script.charset="utf-8",script.src=__webpack_require__.p+""+chunkId+"."+hotCurrentHash+".hot-update.js",head.appendChild(script)}function hotDownloadManifest(callback){if("undefined"==typeof XMLHttpRequest)return callback(new Error("No browser support"));try{var request=new XMLHttpRequest,requestPath=__webpack_require__.p+""+hotCurrentHash+".hot-update.json";request.open("GET",requestPath,!0),request.timeout=1e4,request.send(null)}catch(err){return callback(err)}request.onreadystatechange=function(){if(4===request.readyState)if(0===request.status)callback(new Error("Manifest request to "+requestPath+" timed out."));else if(404===request.status)callback();else if(200!==request.status&&304!==request.status)callback(new Error("Manifest request to "+requestPath+" failed."));else{try{var update=JSON.parse(request.responseText)}catch(e){return void callback(e)}callback(null,update)}}}function hotCreateRequire(moduleId){function ensure(chunkId,callback){"ready"===hotStatus&&hotSetStatus("prepare"),hotChunksLoading++,__webpack_require__.e(chunkId,function(){function finishChunkLoading(){hotChunksLoading--,"prepare"===hotStatus&&(hotWaitingFilesMap[chunkId]||hotEnsureUpdateChunk(chunkId),0===hotChunksLoading&&0===hotWaitingFiles&&hotUpdateDownloaded())}try{callback.call(null,fn)}finally{finishChunkLoading()}})}var me=installedModules[moduleId];if(!me)return __webpack_require__;var fn=function(request){return me.hot.active?installedModules[request]?(installedModules[request].parents.indexOf(moduleId)<0&&installedModules[request].parents.push(moduleId),me.children.indexOf(request)<0&&me.children.push(request)):hotCurrentParents=[moduleId]:(console.warn("[HMR] unexpected require("+request+") from disposed module "+moduleId),hotCurrentParents=[]),__webpack_require__(request)};for(var name in __webpack_require__)Object.prototype.hasOwnProperty.call(__webpack_require__,name)&&(Object.defineProperty?Object.defineProperty(fn,name,function(name){return{configurable:!0,enumerable:!0,get:function(){return __webpack_require__[name]},set:function(value){__webpack_require__[name]=value}}}(name)):fn[name]=__webpack_require__[name]);return Object.defineProperty?Object.defineProperty(fn,"e",{enumerable:!0,value:ensure}):fn.e=ensure,fn}function hotCreateModule(moduleId){var hot={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],active:!0,accept:function(dep,callback){if("undefined"==typeof dep)hot._selfAccepted=!0;else if("function"==typeof dep)hot._selfAccepted=dep;else if("object"==typeof dep)for(var i=0;i<dep.length;i++)hot._acceptedDependencies[dep[i]]=callback;else hot._acceptedDependencies[dep]=callback},decline:function(dep){if("undefined"==typeof dep)hot._selfDeclined=!0;else if("number"==typeof dep)hot._declinedDependencies[dep]=!0;else for(var i=0;i<dep.length;i++)hot._declinedDependencies[dep[i]]=!0},dispose:function(callback){hot._disposeHandlers.push(callback)},addDisposeHandler:function(callback){hot._disposeHandlers.push(callback)},removeDisposeHandler:function(callback){var idx=hot._disposeHandlers.indexOf(callback);idx>=0&&hot._disposeHandlers.splice(idx,1)},check:hotCheck,apply:hotApply,status:function(l){return l?void hotStatusHandlers.push(l):hotStatus},addStatusHandler:function(l){hotStatusHandlers.push(l)},removeStatusHandler:function(l){var idx=hotStatusHandlers.indexOf(l);idx>=0&&hotStatusHandlers.splice(idx,1)},data:hotCurrentModuleData[moduleId]};return hot}function hotSetStatus(newStatus){hotStatus=newStatus;for(var i=0;i<hotStatusHandlers.length;i++)hotStatusHandlers[i].call(null,newStatus)}function toModuleId(id){var isNumber=+id+""===id;return isNumber?+id:id}function hotCheck(apply,callback){if("idle"!==hotStatus)throw new Error("check() is only allowed in idle status");"function"==typeof apply?(hotApplyOnUpdate=!1,callback=apply):(hotApplyOnUpdate=apply,callback=callback||function(err){if(err)throw err}),hotSetStatus("check"),hotDownloadManifest(function(err,update){if(err)return callback(err);if(!update)return hotSetStatus("idle"),void callback(null,null);hotRequestedFilesMap={},hotAvailibleFilesMap={},hotWaitingFilesMap={};for(var i=0;i<update.c.length;i++)hotAvailibleFilesMap[update.c[i]]=!0;hotUpdateNewHash=update.h,hotSetStatus("prepare"),hotCallback=callback,hotUpdate={};var chunkId=0;hotEnsureUpdateChunk(chunkId),"prepare"===hotStatus&&0===hotChunksLoading&&0===hotWaitingFiles&&hotUpdateDownloaded()})}function hotAddUpdateChunk(chunkId,moreModules){if(hotAvailibleFilesMap[chunkId]&&hotRequestedFilesMap[chunkId]){hotRequestedFilesMap[chunkId]=!1;for(var moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(hotUpdate[moduleId]=moreModules[moduleId]);0===--hotWaitingFiles&&0===hotChunksLoading&&hotUpdateDownloaded()}}function hotEnsureUpdateChunk(chunkId){hotAvailibleFilesMap[chunkId]?(hotRequestedFilesMap[chunkId]=!0,hotWaitingFiles++,hotDownloadUpdateChunk(chunkId)):hotWaitingFilesMap[chunkId]=!0}function hotUpdateDownloaded(){hotSetStatus("ready");var callback=hotCallback;if(hotCallback=null,callback)if(hotApplyOnUpdate)hotApply(hotApplyOnUpdate,callback);else{var outdatedModules=[];for(var id in hotUpdate)Object.prototype.hasOwnProperty.call(hotUpdate,id)&&outdatedModules.push(toModuleId(id));callback(null,outdatedModules)}}function hotApply(options,callback){function getAffectedStuff(module){for(var outdatedModules=[module],outdatedDependencies={},queue=outdatedModules.slice();queue.length>0;){var moduleId=queue.pop(),module=installedModules[moduleId];if(module&&!module.hot._selfAccepted){if(module.hot._selfDeclined)return new Error("Aborted because of self decline: "+moduleId);if(0===moduleId)return;for(var i=0;i<module.parents.length;i++){var parentId=module.parents[i],parent=installedModules[parentId];if(parent.hot._declinedDependencies[moduleId])return new Error("Aborted because of declined dependency: "+moduleId+" in "+parentId);outdatedModules.indexOf(parentId)>=0||(parent.hot._acceptedDependencies[moduleId]?(outdatedDependencies[parentId]||(outdatedDependencies[parentId]=[]),addAllToSet(outdatedDependencies[parentId],[moduleId])):(delete outdatedDependencies[parentId],outdatedModules.push(parentId),queue.push(parentId)))}}}return[outdatedModules,outdatedDependencies]}function addAllToSet(a,b){for(var i=0;i<b.length;i++){var item=b[i];a.indexOf(item)<0&&a.push(item)}}if("ready"!==hotStatus)throw new Error("apply() is only allowed in ready status");"function"==typeof options?(callback=options,options={}):options&&"object"==typeof options?callback=callback||function(err){if(err)throw err}:(options={},callback=callback||function(err){if(err)throw err});var outdatedDependencies={},outdatedModules=[],appliedUpdate={};for(var id in hotUpdate)if(Object.prototype.hasOwnProperty.call(hotUpdate,id)){var moduleId=toModuleId(id),result=getAffectedStuff(moduleId);if(!result){if(options.ignoreUnaccepted)continue;return hotSetStatus("abort"),callback(new Error("Aborted because "+moduleId+" is not accepted"))}if(result instanceof Error)return hotSetStatus("abort"),callback(result);appliedUpdate[moduleId]=hotUpdate[moduleId],addAllToSet(outdatedModules,result[0]);for(var moduleId in result[1])Object.prototype.hasOwnProperty.call(result[1],moduleId)&&(outdatedDependencies[moduleId]||(outdatedDependencies[moduleId]=[]),addAllToSet(outdatedDependencies[moduleId],result[1][moduleId]))}for(var outdatedSelfAcceptedModules=[],i=0;i<outdatedModules.length;i++){var moduleId=outdatedModules[i];installedModules[moduleId]&&installedModules[moduleId].hot._selfAccepted&&outdatedSelfAcceptedModules.push({module:moduleId,errorHandler:installedModules[moduleId].hot._selfAccepted})}hotSetStatus("dispose");for(var queue=outdatedModules.slice();queue.length>0;){var moduleId=queue.pop(),module=installedModules[moduleId];if(module){for(var data={},disposeHandlers=module.hot._disposeHandlers,j=0;j<disposeHandlers.length;j++){var cb=disposeHandlers[j];cb(data)}hotCurrentModuleData[moduleId]=data,module.hot.active=!1,delete installedModules[moduleId];for(var j=0;j<module.children.length;j++){var child=installedModules[module.children[j]];if(child){var idx=child.parents.indexOf(moduleId);idx>=0&&child.parents.splice(idx,1)}}}}for(var moduleId in outdatedDependencies)if(Object.prototype.hasOwnProperty.call(outdatedDependencies,moduleId))for(var module=installedModules[moduleId],moduleOutdatedDependencies=outdatedDependencies[moduleId],j=0;j<moduleOutdatedDependencies.length;j++){var dependency=moduleOutdatedDependencies[j],idx=module.children.indexOf(dependency);idx>=0&&module.children.splice(idx,1)}hotSetStatus("apply"),hotCurrentHash=hotUpdateNewHash;for(var moduleId in appliedUpdate)Object.prototype.hasOwnProperty.call(appliedUpdate,moduleId)&&(modules[moduleId]=appliedUpdate[moduleId]);var error=null;for(var moduleId in outdatedDependencies)if(Object.prototype.hasOwnProperty.call(outdatedDependencies,moduleId)){for(var module=installedModules[moduleId],moduleOutdatedDependencies=outdatedDependencies[moduleId],callbacks=[],i=0;i<moduleOutdatedDependencies.length;i++){var dependency=moduleOutdatedDependencies[i],cb=module.hot._acceptedDependencies[dependency];callbacks.indexOf(cb)>=0||callbacks.push(cb)}for(var i=0;i<callbacks.length;i++){var cb=callbacks[i];try{cb(outdatedDependencies)}catch(err){error||(error=err)}}}for(var i=0;i<outdatedSelfAcceptedModules.length;i++){var item=outdatedSelfAcceptedModules[i],moduleId=item.module;hotCurrentParents=[moduleId];try{__webpack_require__(moduleId)}catch(err){if("function"==typeof item.errorHandler)try{item.errorHandler(err)}catch(err){error||(error=err)}else error||(error=err)}}return error?(hotSetStatus("fail"),callback(error)):(hotSetStatus("idle"),void callback(null,outdatedModules))}function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1,hot:hotCreateModule(moduleId),parents:hotCurrentParents,children:[]};return modules[moduleId].call(module.exports,module,module.exports,hotCreateRequire(moduleId)),module.loaded=!0,module.exports}var parentHotUpdateCallback=this.webpackHotUpdate;this.webpackHotUpdate=function(chunkId,moreModules){hotAddUpdateChunk(chunkId,moreModules),parentHotUpdateCallback&&parentHotUpdateCallback(chunkId,moreModules)};var hotCallback,hotUpdate,hotUpdateNewHash,hotApplyOnUpdate=!0,hotCurrentHash="f625acb6bc94f48e1221",hotCurrentModuleData={},hotCurrentParents=[],hotStatusHandlers=[],hotStatus="idle",hotWaitingFiles=0,hotChunksLoading=0,hotWaitingFilesMap={},hotRequestedFilesMap={},hotAvailibleFilesMap={},installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="/static/",__webpack_require__.h=function(){return hotCurrentHash},hotCreateRequire(0)(0)}([function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(1);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** multi main\n ** module id = 0\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///multi_main?")},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconsole.log('csv1');\n\nvar CSV = {};\nCSV.__type__ = 'csv';\n\nCSV.fetch = function (dataset) {\n  return new Promise(function (resolve, reject) {\n    if (dataset.file) {\n      var reader = new FileReader();\n      var encoding = dataset.encoding || 'UTF-8';\n      reader.onload = function (e) {\n        var out = CSV.extractFields(CSV.parse(e.target.result, dataset), dataset);\n        out.useMemoryStore = true;\n        out.metadata = {\n          filename: dataset.file.name\n        };\n        resolve(out);\n      };\n      reader.onerror = function (e) {\n        console.log('Failed to load file. Code: ' + e.target.error.code);\n        reject(e);\n      };\n      reader.readAsText(dataset.file, encoding);\n    } else if (dataset.data) {\n      var out = CSV.extractFields(CSV.parse(dataset.data, dataset), dataset);\n      out.useMemoryStore = true;\n      resolve(out);\n    } else if (dataset.url) {\n      fetch(dataset.url).then(function (res) {\n        return res.text();\n      }).then(function (data) {\n        var out = CSV.extractFields(CSV.parse(data, dataset), dataset);\n        out.useMemoryStore = true;\n        resolve(out);\n      }).catch(function (e) {\n        console.log('Error fetching data', e);\n        reject(e);\n      });\n    } else {\n      console.log('Invalid dataset');\n      reject('Invalid dataset.');\n    }\n  });\n};\n\n// Convert array of rows in { records: [ ...] , fields: [ ... ] }\n// @param {Boolean} noHeaderRow If true assume that first row is not a header (i.e. list of fields but is data.\nCSV.extractFields = function (rows, dataset) {\n  if (dataset.noHeaderRow !== true && rows.length > 0) {\n    var fields = rows[0];\n    var records = rows.slice(1).map(function (row) {\n      return row.map(function (val, key) {\n        var x = {};\n        x[fields[key]] = val;\n        return x;\n      });\n    });\n    return {\n      fields: fields,\n      records: records\n    };\n  } else {\n    return {\n      records: rows\n    };\n  }\n};\n\nCSV.normalizeDialectOptions = function (options) {\n  // note lower case compared to CSV DDF\n  var out = {\n    delimiter: ',',\n    doublequote: true,\n    lineterminator: '\\n',\n    quotechar: '\"',\n    skipinitialspace: true,\n    skipinitialrows: 0\n  };\n  for (var key in options) {\n    if (key === 'trim') {\n      out.skipinitialspace = options.trim;\n    } else {\n      out[key.toLowerCase()] = options[key];\n    }\n  }\n  return out;\n};\n\n// ## parse\n//\n// For docs see the README\n//\n// Heavily based on uselesscode's JS CSV parser (MIT Licensed):\n// http://www.uselesscode.org/javascript/csv/\nCSV.parse = function (s, dialect) {\n  // Get rid of any trailing \\n\n  s = chomp(s);\n\n  var options = CSV.normalizeDialectOptions(dialect);\n\n  var cur = '',\n      // The character we are currently processing.\n  inQuote = false,\n      fieldQuoted = false,\n      field = '',\n      // Buffer for building up the current field\n  row = [],\n      out = [],\n      i,\n      processField;\n\n  processField = function processField(field) {\n    if (fieldQuoted !== true) {\n      // If field is empty set to null\n      if (field === '') {\n        field = null;\n        // If the field was not quoted and we are trimming fields, trim it\n      } else if (options.skipinitialspace === true) {\n          field = trim(field);\n        }\n\n      // Convert unquoted numbers to their appropriate types\n      if (rxIsInt.test(field)) {\n        field = parseInt(field, 10);\n      } else if (rxIsFloat.test(field)) {\n        field = parseFloat(field, 10);\n      }\n    }\n    return field;\n  };\n\n  for (i = 0; i < s.length; i += 1) {\n    cur = s.charAt(i);\n\n    // If we are at a EOF or EOR\n    if (inQuote === false && (cur === options.delimiter || cur === '\\n')) {\n      field = processField(field);\n      // Add the current field to the current row\n      row.push(field);\n      // If this is EOR append row to output and flush row\n      if (cur === '\\n') {\n        out.push(row);\n        row = [];\n      }\n      // Flush the field buffer\n      field = '';\n      fieldQuoted = false;\n    } else {\n      // If it's not a quotechar, add it to the field buffer\n      if (cur !== options.quotechar) {\n        field += cur;\n      } else {\n        if (!inQuote) {\n          // We are not in a quote, start a quote\n          inQuote = true;\n          fieldQuoted = true;\n        } else {\n          // Next char is quotechar, this is an escaped quotechar\n          if (s.charAt(i + 1) === options.quotechar) {\n            field += options.quotechar;\n            // Skip the next char\n            i += 1;\n          } else {\n            // It's not escaping, so end quote\n            inQuote = false;\n          }\n        }\n      }\n    }\n  }\n\n  // Add the last field\n  field = processField(field);\n  row.push(field);\n  out.push(row);\n\n  // Expose the ability to discard initial rows\n  if (options.skipinitialrows) out = out.slice(options.skipinitialrows);\n\n  return out;\n};\n\nCSV.objectToArray = function (dataToSerialize) {\n  var a = [];\n  var fieldNames = [];\n  var ii;\n  var jj;\n\n  for (ii = 0; ii < dataToSerialize.fields.length; ii++) {\n    fieldNames.push(dataToSerialize.fields[ii].id);\n  }\n  a.push(fieldNames);\n  for (ii = 0; ii < dataToSerialize.records.length; ii++) {\n    var tmp = [];\n    var record = dataToSerialize.records[ii];\n    for (jj = 0; jj < fieldNames.length; jj++) {\n      tmp.push(record[fieldNames[jj]]);\n    }\n    a.push(tmp);\n  }\n  return a;\n};\n\n// ## serialize\n//\n// See README for docs\n//\n// Heavily based on uselesscode's JS CSV serializer (MIT Licensed):\n// http://www.uselesscode.org/javascript/csv/\nCSV.serialize = function (dataToSerialize, dialect) {\n  var a = null;\n  if (dataToSerialize instanceof Array) {\n    a = dataToSerialize;\n  } else {\n    a = CSV.objectToArray(dataToSerialize);\n  }\n  var options = CSV.normalizeDialectOptions(dialect);\n\n  var cur = '',\n      // The character we are currently processing.\n  field = '',\n      // Buffer for building up the current field\n  row = '',\n      out = '',\n      i,\n      j,\n      processField;\n\n  processField = function processField(field) {\n    if (field === null) {\n      // If field is null set to empty string\n      field = '';\n    } else if (typeof field === 'string' && rxNeedsQuoting.test(field)) {\n      if (options.doublequote) {\n        field = field.replace(/\"/g, '\"\"');\n      }\n      // Convert string to delimited string\n      field = options.quotechar + field + options.quotechar;\n    } else if (typeof field === 'number') {\n      // Convert number to string\n      field = field.toString(10);\n    }\n\n    return field;\n  };\n\n  for (i = 0; i < a.length; i += 1) {\n    cur = a[i];\n\n    for (j = 0; j < cur.length; j += 1) {\n      field = processField(cur[j]);\n      // If this is EOR append row to output and flush row\n      if (j === cur.length - 1) {\n        row += field;\n        out += row + '\\n';\n        row = '';\n      } else {\n        // Add the current field to the current row\n        row += field + options.delimiter;\n      }\n      // Flush the field buffer\n      field = '';\n    }\n  }\n\n  return out;\n};\n\nvar rxIsInt = /^\\d+$/,\n    rxIsFloat = /^\\d*\\.\\d+$|^\\d+\\.\\d*$/,\n\n// If a string has leading or trailing space,\n// contains a comma double quote or a newline\n// it needs to be quoted in CSV output\nrxNeedsQuoting = /^\\s|\\s$|,|\"|\\n/,\n    trim = function () {\n  // Fx 3.1 has a native trim function, it's about 10x faster, use it if it exists\n  if (String.prototype.trim) {\n    return function (s) {\n      return s.trim();\n    };\n  } else {\n    return function (s) {\n      return s.replace(/^\\s*/, '').replace(/\\s*$/, '');\n    };\n  }\n}();\n\nfunction chomp(s) {\n  if (s.charAt(s.length - 1) !== '\\n') {\n    // Does not end with \\n, just return string\n    return s;\n  } else {\n    // Remove the \\n\n    return s.substring(0, s.length - 1);\n  }\n}\n\nexports.default = CSV;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/csv.js\n ** module id = 1\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/csv.js?")}])});